# Generated with protoc-gen-openapi
# https://github.com/google/gnostic/tree/master/cmd/protoc-gen-openapi

openapi: 3.0.3
info:
    title: Examplev1Service API
    description: 'Examplev1Service: generated with ops=[get,upsert,delete]'
    version: 0.0.1
paths:
    /v1/example:
        get:
            tags:
                - Examplev1Service
            description: 'GET /v1/example - list or search by filters (query: id OR name)'
            operationId: Examplev1Service_FindExamples
            parameters:
                - name: id
                  in: query
                  description: oneof can be added if desired strictness; for now just optional fields
                  schema:
                    type: integer
                    format: uint32
                - name: name
                  in: query
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.example.v1.FindExamplesResponse'
        post:
            tags:
                - Examplev1Service
            description: POST /v1/example - create or update (id empty/0 => create, >0 => update)
            operationId: Examplev1Service_UpsertExample
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/api.example.v1.UpsertExampleRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.example.v1.UpsertExampleResponse'
        delete:
            tags:
                - Examplev1Service
            description: DELETE /v1/example?id=123 - delete by id (query param)
            operationId: Examplev1Service_DeleteExampleById
            parameters:
                - name: id
                  in: query
                  schema:
                    type: integer
                    format: uint32
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.example.v1.DeleteExampleByIdResponse'
components:
    schemas:
        api.common.v1.MetaResponse:
            type: object
            properties:
                code:
                    type: integer
                    format: enum
                message:
                    type: string
                details:
                    type: object
                    additionalProperties:
                        type: string
                    description: 'Optional: technical details/field-value for debug in DEV'
        api.example.v1.DeleteExampleByIdResponse:
            type: object
            properties:
                meta:
                    $ref: '#/components/schemas/api.common.v1.MetaResponse'
        api.example.v1.Example:
            type: object
            properties:
                id:
                    type: integer
                    format: uint32
                name:
                    type: string
                createdAt:
                    type: string
                    format: date-time
                updatedAt:
                    type: string
                    format: date-time
        api.example.v1.FindExamplesResponse:
            type: object
            properties:
                items:
                    type: array
                    items:
                        $ref: '#/components/schemas/api.example.v1.Example'
                meta:
                    $ref: '#/components/schemas/api.common.v1.MetaResponse'
        api.example.v1.UpsertExampleRequest:
            required:
                - name
            type: object
            properties:
                id:
                    type: integer
                    format: uint32
                name:
                    type: string
        api.example.v1.UpsertExampleResponse:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/api.example.v1.Example'
                meta:
                    $ref: '#/components/schemas/api.common.v1.MetaResponse'
tags:
    - name: Examplev1Service
